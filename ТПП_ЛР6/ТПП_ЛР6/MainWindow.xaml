<Window x:Class="ТПП_ЛР6.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ТПП_ЛР6"
        mc:Ignorable="d"
        Title="Анимированный калькулятор" Height="520" Width="340"
        Background="#FF1E1E1E">

	<Window.Resources>
		<Storyboard x:Key="ButtonHoverAnimation">
			<DoubleAnimation
                Storyboard.TargetProperty="RenderTransform.ScaleX"
                From="1" To="1.1" Duration="0:0:0.2" AutoReverse="True"/>
			<DoubleAnimation
                Storyboard.TargetProperty="RenderTransform.ScaleY"
                From="1" To="1.1" Duration="0:0:0.2" AutoReverse="True"/>
		</Storyboard>

		<Storyboard x:Key="ButtonPressAnimation">
			<ColorAnimation
                Storyboard.TargetProperty="(Button.Background).(SolidColorBrush.Color)"
                From="#FF2D2D30" To="#FF0099FF" Duration="0:0:0.2" AutoReverse="True"/>
		</Storyboard>

		<Style TargetType="Button">
			<Setter Property="Background" Value="#FF2D2D30"/>
			<Setter Property="Foreground" Value="White"/>
			<Setter Property="BorderBrush" Value="#FF404040"/>
			<Setter Property="FontSize" Value="20"/>
			<Setter Property="Margin" Value="4"/>
			<Setter Property="Cursor" Value="Hand"/>
			<Setter Property="Height" Value="55"/>
			<Setter Property="FontWeight" Value="SemiBold"/>
			<Setter Property="RenderTransformOrigin" Value="0.5,0.5"/>
			<Setter Property="Padding" Value="0,12"/>
			<Setter Property="BorderThickness" Value="1"/>

			<Setter Property="Template">
				<Setter.Value>
					<ControlTemplate TargetType="Button">
						<Border x:Name="border"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="1"
                                CornerRadius="6"
                                RenderTransformOrigin="0.5,0.5">
							<Border.RenderTransform>
								<ScaleTransform x:Name="ScaleTransform"/>
							</Border.RenderTransform>
							<ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
						</Border>

						<ControlTemplate.Triggers>
							<EventTrigger RoutedEvent="Button.MouseEnter">
								<BeginStoryboard>
									<Storyboard Storyboard.TargetName="ScaleTransform">
										<DoubleAnimation Storyboard.TargetProperty="ScaleX" To="1.08" Duration="0:0:0.2" AutoReverse="True"/>
										<DoubleAnimation Storyboard.TargetProperty="ScaleY" To="1.08" Duration="0:0:0.2" AutoReverse="True"/>
									</Storyboard>
								</BeginStoryboard>
							</EventTrigger>

							<EventTrigger RoutedEvent="Button.PreviewMouseDown">
								<BeginStoryboard Storyboard="{StaticResource ButtonPressAnimation}"/>
							</EventTrigger>

							<Trigger Property="IsMouseOver" Value="True">
								<Setter Property="Background" Value="#FF3D3D40"/>
							</Trigger>

							<Trigger Property="IsPressed" Value="True">
								<Setter Property="Background" Value="#FF0099FF"/>
							</Trigger>
						</ControlTemplate.Triggers>
					</ControlTemplate>
				</Setter.Value>
			</Setter>
		</Style>
	</Window.Resources>

	<Grid Height="470" Width="310">
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="*"/>
		</Grid.RowDefinitions>

		<ScrollViewer x:Name="HistoryScrollViewer" Grid.Row="0" VerticalScrollBarVisibility="Auto" Height="80" Margin="6"
                      Background="#424242" Padding="8" VerticalContentAlignment="Bottom" BorderThickness="0" CornerRadius="4">
			<TextBlock x:Name="HistoryText" TextWrapping="Wrap" FontSize="14" Foreground="#E0E0E0"/>
		</ScrollViewer>

		<TextBox x:Name="Display" Grid.Row="1" Height="80" Background="#B0B0B0" Margin="6" Padding="12"
                 TextAlignment="Right" VerticalContentAlignment="Center" FontSize="32"
                 Foreground="Black" IsReadOnly="True" BorderThickness="0" CornerRadius="4" FontWeight="SemiBold"/>

		<Grid Grid.Row="2" Margin="6">
			<Grid.RowDefinitions>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="Auto"/>
			</Grid.RowDefinitions>
			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="*"/>
				<ColumnDefinition Width="*"/>
				<ColumnDefinition Width="*"/>
				<ColumnDefinition Width="*"/>
			</Grid.ColumnDefinitions>

			<Button x:Name="buttonClear" Content="C" Grid.Row="0" Grid.Column="0" Click="ButtonClear_Click" Background="#FF505050"/>
			<Button x:Name="buttonOpenBracket" Content="(" Grid.Row="0" Grid.Column="1" Click="ButtonOperation_Click" Background="#FF505050"/>
			<Button x:Name="buttonCloseBracket" Content=")" Grid.Row="0" Grid.Column="2" Click="ButtonOperation_Click" Background="#FF505050"/>
			<Button x:Name="buttonDivide" Content="/" Grid.Row="0" Grid.Column="3" Click="ButtonOperation_Click" Background="#FF505050"/>

			<Button x:Name="buttonNum7" Content="7" Grid.Row="1" Grid.Column="0" Click="ButtonNum_Click"/>
			<Button x:Name="buttonNum8" Content="8" Grid.Row="1" Grid.Column="1" Click="ButtonNum_Click"/>
			<Button x:Name="buttonNum9" Content="9" Grid.Row="1" Grid.Column="2" Click="ButtonNum_Click"/>
			<Button x:Name="buttonMultiply" Content="*" Grid.Row="1" Grid.Column="3" Click="ButtonOperation_Click" Background="#FF505050"/>

			<Button x:Name="buttonNum4" Content="4" Grid.Row="2" Grid.Column="0" Click="ButtonNum_Click"/>
			<Button x:Name="buttonNum5" Content="5" Grid.Row="2" Grid.Column="1" Click="ButtonNum_Click"/>
			<Button x:Name="buttonNum6" Content="6" Grid.Row="2" Grid.Column="2" Click="ButtonNum_Click"/>
			<Button x:Name="buttonMinus" Content="-" Grid.Row="2" Grid.Column="3" Click="ButtonOperation_Click" Background="#FF505050"/>

			<Button x:Name="buttonNum1" Content="1" Grid.Row="3" Grid.Column="0" Click="ButtonNum_Click"/>
			<Button x:Name="buttonNum2" Content="2" Grid.Row="3" Grid.Column="1" Click="ButtonNum_Click"/>
			<Button x:Name="buttonNum3" Content="3" Grid.Row="3" Grid.Column="2" Click="ButtonNum_Click"/>
			<Button x:Name="buttonPlus" Content="+" Grid.Row="3" Grid.Column="3" Click="ButtonOperation_Click" Background="#FF505050"/>

			<Button x:Name="buttonDecimal" Content="." Grid.Row="4" Grid.Column="0" Click="ButtonDecimal_Click" Background="#FF505050"/>
			<Button x:Name="buttonNum0" Content="0" Grid.Row="4" Grid.Column="1" Click="ButtonNum_Click"/>
			<Button x:Name="buttonEqual" Content="=" Grid.Row="4" Grid.Column="2" Grid.ColumnSpan="2" Click="ButtonEquals_Click" Background="#FF0078D7"/>
		</Grid>
	</Grid>
</Window>